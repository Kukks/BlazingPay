@page "/"
@using BlazingPay.UI.Services

@inject UIStateService UiStateService
@inject UIPreferencesAccessor UIPreferencesAccessor
@inject NavigationManager NavigationManager

<IonContent class="ion-padding">
    <IonSkeletonText animated style="width: 60%"></IonSkeletonText>
    <IonSkeletonText animated></IonSkeletonText>
    <IonSkeletonText animated style="width: 88%"></IonSkeletonText>
    <IonSkeletonText animated style="width: 70%"></IonSkeletonText>
    <IonSkeletonText animated style="width: 60%"></IonSkeletonText>

</IonContent>

@code{


    protected override async Task OnInitializedAsync()
    {
        var preferences = await UIPreferencesAccessor.Get();
        NavigationManager.NavigateTo(preferences.DefaultInstanceId is null ? "/instances/create/choose" : $"/instances/{preferences.DefaultInstanceId}");
        await base.OnInitializedAsync();
    }

}